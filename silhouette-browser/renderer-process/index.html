<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Silhouette Browser V5.0 - La Plataforma de Desarrollo M√°s Avanzada</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #007acc;
            --secondary-color: #4ecdc4;
            --accent-color: #ff6b35;
            --success-color: #2d5a2d;
            --warning-color: #ff9500;
            --error-color: #ff4444;
            --background-primary: #1a1a1a;
            --background-secondary: #2d2d2d;
            --background-tertiary: #333333;
            --text-primary: #ffffff;
            --text-secondary: #cccccc;
            --text-muted: #888888;
            --border-color: #444444;
            --border-accent: #007acc;
        }

        [data-theme="light"] {
            --background-primary: #ffffff;
            --background-secondary: #f8f9fa;
            --background-tertiary: #e9ecef;
            --text-primary: #212529;
            --text-secondary: #495057;
            --text-muted: #6c757d;
            --border-color: #dee2e6;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--background-primary);
            color: var(--text-primary);
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .browser-container {
            display: flex;
            height: 100vh;
            width: 100vw;
        }

        /* ========================================================================
           PANEL IZQUIERDO - NAVEGADOR WEB
           ======================================================================== */
        .browser-panel {
            flex: 2;
            display: flex;
            flex-direction: column;
            background: var(--background-secondary);
            border-right: 1px solid var(--border-color);
        }

        .browser-header {
            background: var(--background-tertiary);
            padding: 10px 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            border-bottom: 1px solid var(--border-color);
        }

        .nav-buttons {
            display: flex;
            gap: 5px;
        }

        .nav-button {
            width: 32px;
            height: 32px;
            border: none;
            background: var(--background-tertiary);
            color: var(--text-muted);
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            transition: all 0.2s;
        }

        .nav-button:hover {
            background: var(--border-color);
            color: var(--text-primary);
        }

        .nav-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .url-bar {
            flex: 1;
            height: 32px;
            background: var(--background-primary);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            padding: 0 12px;
            color: var(--text-primary);
            font-size: 14px;
            outline: none;
        }

        .url-bar:focus {
            border-color: var(--primary-color);
        }

        .browser-controls {
            display: flex;
            gap: 5px;
        }

        .control-button {
            width: 32px;
            height: 32px;
            border: none;
            background: var(--background-tertiary);
            color: var(--text-muted);
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            transition: all 0.2s;
        }

        .control-button:hover {
            background: var(--border-color);
            color: var(--text-primary);
        }

        .ai-control {
            background: var(--primary-color);
            color: #fff;
        }

        .ai-control:hover {
            background: #005999;
        }

        .browser-content {
            flex: 1;
            background: #fff;
            position: relative;
        }

        .webview {
            width: 100%;
            height: 100%;
            border: none;
            background: #fff;
        }

        .loading-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #333;
            border-top: 4px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* ========================================================================
           PANEL DERECHO - IA Y CONFIGURACI√ìN
           ======================================================================== */
        .ai-panel {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: var(--background-primary);
            min-width: 500px;
            max-width: 800px;
        }

        .ai-header {
            background: var(--background-secondary);
            padding: 15px 20px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .ai-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--primary-color);
        }

        .ai-tabs {
            display: flex;
            gap: 2px;
            flex-wrap: wrap;
        }

        .ai-tab {
            padding: 8px 12px;
            background: transparent;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            border-radius: 4px;
            font-size: 11px;
            transition: all 0.2s;
            white-space: nowrap;
        }

        .ai-tab.active {
            background: var(--primary-color);
            color: #fff;
        }

        .ai-tab:hover {
            color: var(--text-primary);
            background: var(--background-tertiary);
        }

        .ai-tab.active:hover {
            background: #005999;
        }

        .ai-content {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .tab-content {
            display: none;
            flex: 1;
            overflow-y: auto;
        }

        .tab-content.active {
            display: flex;
            flex-direction: column;
        }

        /* ========================================================================
           CHAT INTERFACE
           ======================================================================== */
        .chat-container {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .welcome-message {
            text-align: center;
            padding: 40px 20px;
            color: var(--text-muted);
        }

        .welcome-icon {
            font-size: 48px;
            margin-bottom: 16px;
        }

        .message {
            max-width: 85%;
            padding: 12px 16px;
            border-radius: 12px;
            font-size: 14px;
            line-height: 1.4;
            animation: messageSlide 0.3s ease-out;
        }

        @keyframes messageSlide {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .message.user {
            background: var(--primary-color);
            align-self: flex-end;
            color: #fff;
        }

        .message.ai {
            background: var(--background-secondary);
            align-self: flex-start;
            color: var(--text-primary);
        }

        .message.executing {
            background: var(--accent-color);
            color: #fff;
            font-style: italic;
        }

        .chat-input-container {
            padding: 20px;
            border-top: 1px solid var(--border-color);
            background: var(--background-tertiary);
            position: relative;
        }

        .chat-input {
            width: 100%;
            min-height: 40px;
            max-height: 120px;
            background: var(--background-primary);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 12px 20px;
            color: var(--text-primary);
            font-size: 14px;
            resize: none;
            outline: none;
            font-family: inherit;
        }

        .chat-input:focus {
            border-color: var(--primary-color);
        }

        .chat-send-button {
            position: absolute;
            right: 32px;
            bottom: 32px;
            width: 40px;
            height: 40px;
            background: var(--primary-color);
            border: none;
            border-radius: 50%;
            color: #fff;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            transition: all 0.2s;
        }

        .chat-send-button:hover {
            background: #005999;
            transform: scale(1.05);
        }

        .chat-send-button:disabled {
            background: var(--text-muted);
            cursor: not-allowed;
            transform: none;
        }

        /* ========================================================================
           CONFIGURACI√ìN AVANZADA
           ======================================================================== */
        .config-container {
            padding: 20px;
            overflow-y: auto;
            max-height: calc(100vh - 120px);
        }

        .config-section {
            margin-bottom: 30px;
        }

        .config-section h3 {
            color: var(--primary-color);
            font-size: 16px;
            margin-bottom: 15px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .config-grid {
            display: grid;
            gap: 16px;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        }

        .api-card {
            background: var(--background-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 16px;
            position: relative;
            transition: all 0.3s ease;
        }

        .api-card:hover {
            border-color: var(--primary-color);
            box-shadow: 0 2px 8px rgba(0, 122, 204, 0.1);
        }

        .api-card.required {
            border-left: 4px solid var(--accent-color);
        }

        .api-card.optional {
            border-left: 4px solid var(--secondary-color);
        }

        .api-card.testing {
            border-left: 4px solid var(--warning-color);
        }

        .api-card.connected {
            border-left: 4px solid var(--success-color);
        }

        .api-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .api-name {
            font-weight: 600;
            color: var(--text-primary);
        }

        .api-status {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
        }

        .api-status.connected {
            background: var(--success-color);
            color: var(--secondary-color);
        }

        .api-status.disconnected {
            background: var(--error-color);
            color: #fff;
        }

        .api-status.testing {
            background: var(--warning-color);
            color: #fff;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .api-input {
            width: 100%;
            padding: 8px 12px;
            background: var(--background-primary);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            color: var(--text-primary);
            font-size: 14px;
            margin-bottom: 8px;
            transition: all 0.2s;
        }

        .api-input:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(0, 122, 204, 0.1);
        }

        .api-input.error {
            border-color: var(--error-color);
        }

        .api-input.success {
            border-color: var(--success-color);
        }

        .usage-indicator {
            font-size: 12px;
            color: var(--text-muted);
            margin-top: 4px;
        }

        .api-actions {
            display: flex;
            gap: 8px;
            margin-top: 12px;
        }

        .btn {
            padding: 6px 12px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 500;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .btn-primary {
            background: var(--primary-color);
            color: #fff;
        }

        .btn-primary:hover {
            background: #005999;
        }

        .btn-secondary {
            background: var(--background-tertiary);
            color: var(--text-primary);
        }

        .btn-secondary:hover {
            background: var(--border-color);
        }

        .btn-success {
            background: var(--success-color);
            color: var(--secondary-color);
        }

        .btn-danger {
            background: var(--error-color);
            color: #fff;
        }

        /* ========================================================================
           MODELOS Y AI
           ======================================================================== */
        .model-config-section {
            background: var(--background-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .model-config-section h3 {
            color: var(--primary-color);
            margin-bottom: 20px;
        }

        .specialty-models {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 16px;
        }

        .model-card {
            background: var(--background-primary);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 16px;
        }

        .model-card h4 {
            color: var(--text-primary);
            margin-bottom: 12px;
            font-size: 14px;
        }

        .model-select {
            width: 100%;
            padding: 8px;
            background: var(--background-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .model-params {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-top: 20px;
        }

        .param-group {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .param-group label {
            font-size: 12px;
            color: var(--text-muted);
        }

        .range-input {
            -webkit-appearance: none;
            width: 100%;
            height: 6px;
            background: var(--background-tertiary);
            border-radius: 3px;
            outline: none;
        }

        .range-input::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: var(--primary-color);
            border-radius: 50%;
            cursor: pointer;
        }

        .param-value {
            font-size: 12px;
            color: var(--text-primary);
            font-weight: 500;
        }

        /* ========================================================================
           EQUIPOS AVANZADOS
           ======================================================================== */
        .teams-config {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 16px;
        }

        .team-card-advanced {
            background: var(--background-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 16px;
            position: relative;
            transition: all 0.3s ease;
        }

        .team-card-advanced.active {
            border-color: var(--secondary-color);
            box-shadow: 0 0 15px rgba(78, 205, 196, 0.2);
        }

        .team-header-advanced {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .team-name-advanced {
            font-weight: 600;
            color: var(--text-primary);
            font-size: 14px;
        }

        .team-toggle-advanced {
            appearance: none;
            width: 44px;
            height: 24px;
            background: var(--background-tertiary);
            border-radius: 12px;
            position: relative;
            cursor: pointer;
            transition: all 0.2s;
        }

        .team-toggle-advanced:checked {
            background: var(--secondary-color);
        }

        .team-toggle-advanced::before {
            content: '';
            position: absolute;
            width: 18px;
            height: 18px;
            background: #fff;
            border-radius: 50%;
            top: 3px;
            left: 3px;
            transition: all 0.2s;
        }

        .team-toggle-advanced:checked::before {
            transform: translateX(20px);
        }

        .team-specialists-advanced {
            font-size: 12px;
            color: var(--text-muted);
            margin-bottom: 12px;
        }

        .team-capabilities {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 8px;
            margin-bottom: 12px;
        }

        .capability-toggle {
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 11px;
            color: var(--text-muted);
        }

        .capability-toggle input[type="checkbox"] {
            width: 12px;
            height: 12px;
        }

        .team-priority-advanced {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .priority-label-advanced {
            font-size: 11px;
            color: var(--text-muted);
        }

        .priority-slider-advanced {
            flex: 1;
            height: 4px;
            background: var(--background-tertiary);
            border-radius: 2px;
            position: relative;
        }

        .priority-fill-advanced {
            height: 100%;
            background: var(--primary-color);
            border-radius: 2px;
            transition: all 0.2s;
        }

        .priority-value-advanced {
            font-size: 11px;
            color: var(--text-muted);
            min-width: 30px;
            text-align: right;
        }

        /* ========================================================================
           ENRUTAMIENTO DE TAREAS
           ======================================================================== */
        .routing-section {
            background: var(--background-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .routing-rules {
            display: grid;
            gap: 12px;
        }

        .routing-rule {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: var(--background-primary);
            border: 1px solid var(--border-color);
            border-radius: 6px;
        }

        .rule-trigger {
            flex: 1;
            font-size: 12px;
            color: var(--text-muted);
            font-style: italic;
        }

        .team-router {
            padding: 4px 8px;
            background: var(--background-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            color: var(--text-primary);
            font-size: 12px;
            min-width: 150px;
        }

        /* ========================================================================
           MONITOREO Y M√âTRICAS
           ======================================================================== */
        .monitoring-section {
            background: var(--background-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-bottom: 20px;
        }

        .metric-card {
            background: var(--background-primary);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 16px;
            text-align: center;
        }

        .metric-card h5 {
            font-size: 12px;
            color: var(--text-muted);
            margin-bottom: 8px;
        }

        .metric-value {
            font-size: 24px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 4px;
        }

        .metric-chart {
            width: 100%;
            height: 40px;
            background: var(--background-tertiary);
            border-radius: 4px;
            position: relative;
            overflow: hidden;
        }

        .metric-trend {
            font-size: 11px;
            color: var(--text-muted);
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--background-tertiary);
            border-radius: 4px;
            overflow: hidden;
            margin-top: 8px;
        }

        .progress-fill {
            height: 100%;
            background: var(--primary-color);
            transition: width 0.3s ease;
        }

        .progress-fill.warning {
            background: var(--warning-color);
        }

        .progress-fill.danger {
            background: var(--error-color);
        }

        /* ========================================================================
           CONFIGURACI√ìN GENERAL
           ======================================================================== */
        .general-config {
            display: grid;
            gap: 20px;
        }

        .config-card {
            background: var(--background-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
        }

        .config-card h4 {
            color: var(--primary-color);
            margin-bottom: 15px;
            font-size: 14px;
        }

        .setting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid var(--border-color);
        }

        .setting-item:last-child {
            border-bottom: none;
        }

        .setting-label {
            font-size: 14px;
            color: var(--text-primary);
        }

        .setting-control {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .theme-toggle {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* ========================================================================
           IMPORTAR/EXPORTAR
           ======================================================================== */
        .import-export-section {
            background: var(--background-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .import-export-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
        }

        .action-card {
            background: var(--background-primary);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 16px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
        }

        .action-card:hover {
            border-color: var(--primary-color);
            transform: translateY(-2px);
        }

        .action-icon {
            font-size: 24px;
            margin-bottom: 8px;
        }

        .action-title {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 4px;
        }

        .action-description {
            font-size: 12px;
            color: var(--text-muted);
        }

        /* ========================================================================
           TAREAS Y EJECUCI√ìN
           ======================================================================== */
        .task-container {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .task-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
        }

        .task-item {
            background: var(--background-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 12px;
            animation: taskSlide 0.3s ease-out;
        }

        @keyframes taskSlide {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .task-item.executing {
            border-color: var(--accent-color);
        }

        .task-item.completed {
            border-color: var(--secondary-color);
        }

        .task-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .task-description {
            font-weight: 600;
            color: var(--text-primary);
            font-size: 14px;
        }

        .task-status {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
        }

        .task-status.executing {
            background: var(--accent-color);
            color: #fff;
        }

        .task-status.completed {
            background: var(--success-color);
            color: var(--secondary-color);
        }

        .task-status.failed {
            background: var(--error-color);
            color: #fff;
        }

        .task-teams {
            margin-top: 8px;
            font-size: 12px;
            color: var(--text-muted);
        }

        .task-progress {
            margin-top: 8px;
            width: 100%;
            height: 4px;
            background: var(--background-tertiary);
            border-radius: 2px;
            overflow: hidden;
        }

        .task-progress-fill {
            height: 100%;
            background: var(--primary-color);
            transition: width 0.3s ease;
        }

        /* ========================================================================
           ESTADO DEL SISTEMA
           ======================================================================== */
        .status-container {
            padding: 20px;
        }

        .status-section {
            margin-bottom: 20px;
        }

        .status-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid var(--border-color);
        }

        .status-item:last-child {
            border-bottom: none;
        }

        .status-label {
            color: var(--text-muted);
            font-size: 14px;
        }

        .status-value {
            color: var(--text-primary);
            font-weight: 600;
        }

        .status-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-left: 8px;
        }

        .status-indicator.online {
            background: var(--secondary-color);
        }

        .status-indicator.offline {
            background: var(--error-color);
        }

        .status-indicator.warning {
            background: var(--warning-color);
        }

        /* ========================================================================
           NOTIFICACIONES
           ======================================================================== */
        .notification-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 9999;
            max-width: 350px;
        }

        .notification {
            background: var(--background-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            animation: notificationSlide 0.3s ease-out;
            position: relative;
        }

        @keyframes notificationSlide {
            from { opacity: 0; transform: translateX(100%); }
            to { opacity: 1; transform: translateX(0); }
        }

        .notification.success {
            border-left: 4px solid var(--success-color);
        }

        .notification.error {
            border-left: 4px solid var(--error-color);
        }

        .notification.warning {
            border-left: 4px solid var(--warning-color);
        }

        .notification-title {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 4px;
        }

        .notification-message {
            font-size: 13px;
            color: var(--text-secondary);
        }

        .notification-close {
            position: absolute;
            top: 8px;
            right: 12px;
            background: none;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            font-size: 16px;
        }

        /* ========================================================================
           RESPONSIVE
           ======================================================================== */
        @media (max-width: 1200px) {
            .ai-panel {
                min-width: 400px;
            }
            
            .config-grid {
                grid-template-columns: 1fr;
            }
            
            .specialty-models {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 900px) {
            .browser-container {
                flex-direction: column;
            }
            
            .browser-panel {
                flex: 1;
                min-height: 50vh;
            }
            
            .ai-panel {
                flex: 1;
                min-width: auto;
                max-width: none;
            }
            
            .ai-tabs {
                flex-wrap: wrap;
                gap: 4px;
            }
            
            .ai-tab {
                font-size: 10px;
                padding: 6px 8px;
            }
        }

        /* ========================================================================
           SCROLL PERSONALIZADO
           ======================================================================== */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--background-tertiary);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--text-muted);
        }

        /* ========================================================================
           LOADING Y ANIMACIONES
           ======================================================================== */
        .loading-dots {
            display: inline-flex;
            gap: 4px;
        }

        .loading-dots span {
            width: 6px;
            height: 6px;
            background: var(--text-muted);
            border-radius: 50%;
            animation: loadingDots 1.4s infinite ease-in-out both;
        }

        .loading-dots span:nth-child(1) { animation-delay: -0.32s; }
        .loading-dots span:nth-child(2) { animation-delay: -0.16s; }
        .loading-dots span:nth-child(3) { animation-delay: 0; }

        @keyframes loadingDots {
            0%, 80%, 100% { 
                transform: scale(0);
                opacity: 0.5;
            }
            40% { 
                transform: scale(1);
                opacity: 1;
            }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body data-theme="dark">
    <div class="browser-container">
        <!-- Panel Izquierdo: Navegador Web -->
        <div class="browser-panel">
            <div class="browser-header">
                <div class="nav-buttons">
                    <button class="nav-button" id="backButton" title="Atr√°s">‚Üê</button>
                    <button class="nav-button" id="forwardButton" title="Adelante">‚Üí</button>
                    <button class="nav-button" id="refreshButton" title="Actualizar">‚Üª</button>
                </div>
                
                <input type="text" class="url-bar" id="urlBar" placeholder="Buscar o navegar a...">
                
                <div class="browser-controls">
                    <button class="control-button" id="bookmarkButton" title="Marcadores">‚≠ê</button>
                    <button class="control-button" id="settingsButton" title="Configuraci√≥n">‚öôÔ∏è</button>
                    <button class="control-button ai-control" id="aiButton" title="Silhouette Agent">ü§ñ</button>
                </div>
            </div>
            
            <div class="browser-content">
                <webview class="webview" id="webview" src="about:blank"></webview>
                <div class="loading-overlay" id="loadingOverlay">
                    <div class="loading-spinner"></div>
                </div>
            </div>
        </div>

        <!-- Panel Derecho: IA y Configuraci√≥n -->
        <div class="ai-panel">
            <div class="ai-header">
                <div class="ai-title">ü§ñ Silhouette Browser V4.0</div>
                <div class="ai-tabs">
                    <button class="ai-tab active" data-tab="ide-sandbox">üöÄ IDE & Sandbox</button>
                    <button class="ai-tab" data-tab="chat">Chat</button>
                    <button class="ai-tab" data-tab="models">Modelos</button>
                    <button class="ai-tab" data-tab="apis">APIs</button>
                    <button class="ai-tab" data-tab="teams">Equipos</button>
                    <button class="ai-tab" data-tab="routing">Enrutamiento</button>
                    <button class="ai-tab" data-tab="monitoring">Monitor</button>
                    <button class="ai-tab" data-tab="general">General</button>
                    <button class="ai-tab" data-tab="tasks">Tareas</button>
                </div>
            </div>

            <div class="ai-content">
                <!-- Chat Tab -->
                <div class="tab-content active" id="ideSandboxTab">
                    <iframe src="ide-ui/ide-sandbox.html" 
                            style="width: 100%; height: 100%; border: none; background: #0E0E10;" 
                            id="ideSandboxFrame"></iframe>
                </div>

                <div class="tab-content" id="chatTab">
                    <div class="chat-container">
                        <div class="chat-messages" id="chatMessages">
                            <div class="welcome-message">
                                <div class="welcome-icon">üöÄ</div>
                                <h3>Silhouette Browser V5.0</h3>
                                <p>El navegador de IA m√°s avanzado del mundo</p>
                                <p>Configura tus APIs y equipos para comenzar</p>
                            </div>
                        </div>
                        <div class="chat-input-container">
                            <textarea class="chat-input" id="chatInput" placeholder="¬øQu√© quieres que haga?"></textarea>
                            <button class="chat-send-button" id="sendButton" title="Enviar">‚Üí</button>
                        </div>
                    </div>
                </div>

                <!-- Modelos Tab -->
                <div class="tab-content" id="modelsTab">
                    <div class="config-container">
                        <div class="config-section">
                            <h3>ü§ñ Configuraci√≥n de Modelos AI</h3>
                            
                            <!-- Hugging Face Models -->
                            <div class="model-config-section">
                                <h4>ü§ó Hugging Face Models</h4>
                                <div class="specialty-models">
                                    <div class="model-card">
                                        <h4>üß† AI/ML Team</h4>
                                        <select class="model-select" id="hfAIModel" data-team="ai_ml">
                                            <option value="meta-llama/Llama-2-7b-chat-hf">Llama 2 7B Chat</option>
                                            <option value="microsoft/DialoGPT-medium">DialoGPT Medium</option>
                                            <option value="google/flan-t5-base">T5 Base</option>
                                            <option value="distilbert-base-uncased">DistilBERT</option>
                                        </select>
                                        <div class="usage-indicator">Optimizado para an√°lisis complejos</div>
                                    </div>
                                    
                                    <div class="model-card">
                                        <h4>üíª Code Generation Team</h4>
                                        <select class="model-select" id="hfCodeModel" data-team="code_gen">
                                            <option value="codellama/CodeLlama-34b-Instruct-hf">Code Llama 34B</option>
                                            <option value="deepseek-ai/deepseek-coder-33b-instruct">DeepSeek Coder</option>
                                            <option value="microsoft/CodeGPT-small-py">CodeGPT Python</option>
                                        </select>
                                        <div class="usage-indicator">Especializado en programaci√≥n</div>
                                    </div>
                                    
                                    <div class="model-card">
                                        <h4>üé® Design Creative Team</h4>
                                        <select class="model-select" id="hfDesignModel" data-team="design">
                                            <option value="runwayml/stable-diffusion-v1-5">Stable Diffusion v1.5</option>
                                            <option value="CompVis/stable-diffusion-v1-4">Stable Diffusion v1.4</option>
                                            <option value="prompthero/openjourney">OpenJourney</option>
                                        </select>
                                        <div class="usage-indicator">Generaci√≥n de im√°genes</div>
                                    </div>
                                </div>
                            </div>

                            <!-- OpenRouter Multi-Model -->
                            <div class="model-config-section">
                                <h4>üîó OpenRouter Multi-Model Configuration</h4>
                                
                                <div class="config-grid">
                                    <div class="api-card">
                                        <div class="api-header">
                                            <span class="api-name">OpenRouter API Key</span>
                                            <span class="api-status" id="openrouterStatus">Desconectado</span>
                                        </div>
                                        <input type="password" class="api-input" id="openrouterKey" placeholder="sk-or-v1-...">
                                        <div class="usage-indicator">Unlimited requests</div>
                                    </div>
                                </div>

                                <div class="specialty-models">
                                    <div class="model-card">
                                        <h4>üß† Artificial Intelligence</h4>
                                        <select class="model-select" id="orAIModel" data-team="ai">
                                            <option value="openai/gpt-4">GPT-4 (An√°lisis Complejo)</option>
                                            <option value="anthropic/claude-3-sonnet">Claude 3 Sonnet</option>
                                            <option value="google/gemini-pro">Gemini Pro</option>
                                        </select>
                                        <div class="usage-indicator">Estimado: 500 requests/mes</div>
                                    </div>
                                    
                                    <div class="model-card">
                                        <h4>üíª Code Generation</h4>
                                        <select class="model-select" id="orCodeModel" data-team="code">
                                            <option value="anthropic/claude-3-haiku">Claude 3 Haiku (R√°pido)</option>
                                            <option value="openai/gpt-3.5-turbo">GPT-3.5 Turbo</option>
                                            <option value="meta-llama/llama-2-70b-chat">Llama 2 70B</option>
                                        </select>
                                        <div class="usage-indicator">Estimado: 800 requests/mes</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Configuraci√≥n de Par√°metros -->
                            <div class="model-config-section">
                                <h4>‚öôÔ∏è Par√°metros Globales</h4>
                                <div class="model-params">
                                    <div class="param-group">
                                        <label>Max Tokens</label>
                                        <input type="number" class="api-input" id="maxTokens" value="512" min="1" max="4096">
                                        <div class="param-value">1-4096 tokens</div>
                                    </div>
                                    <div class="param-group">
                                        <label>Temperatura</label>
                                        <input type="range" class="range-input" id="temperature" min="0" max="2" step="0.1" value="0.7">
                                        <div class="param-value" id="tempValue">0.7</div>
                                    </div>
                                    <div class="param-group">
                                        <label>Top P</label>
                                        <input type="range" class="range-input" id="topP" min="0" max="1" step="0.05" value="0.9">
                                        <div class="param-value" id="topPValue">0.9</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- APIs Tab -->
                <div class="tab-content" id="apisTab">
                    <div class="config-container">
                        <div class="config-section">
                            <h3>üîå APIs Requeridas</h3>
                            <div class="config-grid">
                                <div class="api-card required">
                                    <div class="api-header">
                                        <span class="api-name">OpenRouter</span>
                                        <span class="api-status" id="orApiStatus">Desconectado</span>
                                    </div>
                                    <input type="password" class="api-input" id="orApiKey" placeholder="sk-or-v1-...">
                                    <div class="usage-indicator">Unlimited requests</div>
                                    <div class="api-actions">
                                        <button class="btn btn-primary" onclick="testApiConnection('openrouter')">Test</button>
                                        <button class="btn btn-secondary" onclick="saveApiConfig('openrouter')">Guardar</button>
                                    </div>
                                </div>

                                <div class="api-card required">
                                    <div class="api-header">
                                        <span class="api-name">SERPER</span>
                                        <span class="api-status" id="serperStatus">Desconectado</span>
                                    </div>
                                    <input type="password" class="api-input" id="serperKey" placeholder="API Key">
                                    <div class="usage-indicator">2,500 searches/month</div>
                                    <div class="api-actions">
                                        <button class="btn btn-primary" onclick="testApiConnection('serper')">Test</button>
                                        <button class="btn btn-secondary" onclick="saveApiConfig('serper')">Guardar</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="config-section">
                            <h3>üé® APIs Opcionales por Especialidad</h3>
                            <div class="config-grid">
                                <div class="api-card optional">
                                    <div class="api-header">
                                        <span class="api-name">Unsplash (Design)</span>
                                        <span class="api-status" id="unsplashStatus">Desconectado</span>
                                    </div>
                                    <input type="password" class="api-input" id="unsplashKey" placeholder="Access Key">
                                    <div class="usage-indicator">50 requests/hour</div>
                                    <div class="api-actions">
                                        <button class="btn btn-primary" onclick="testApiConnection('unsplash')">Test</button>
                                        <button class="btn btn-secondary" onclick="saveApiConfig('unsplash')">Guardar</button>
                                    </div>
                                </div>

                                <div class="api-card optional">
                                    <div class="api-header">
                                        <span class="api-name">Runway (Video)</span>
                                        <span class="api-status" id="runwayStatus">Desconectado</span>
                                    </div>
                                    <input type="password" class="api-input" id="runwayKey" placeholder="API Key">
                                    <div class="usage-indicator">125 credits free</div>
                                    <div class="api-actions">
                                        <button class="btn btn-primary" onclick="testApiConnection('runway')">Test</button>
                                        <button class="btn btn-secondary" onclick="saveApiConfig('runway')">Guardar</button>
                                    </div>
                                </div>

                                <div class="api-card optional">
                                    <div class="api-header">
                                        <span class="api-name">LinkedIn (Business)</span>
                                        <span class="api-status" id="linkedinStatus">Desconectado</span>
                                    </div>
                                    <input type="password" class="api-input" id="linkedinKey" placeholder="API Key">
                                    <div class="usage-indicator">Business networking</div>
                                    <div class="api-actions">
                                        <button class="btn btn-primary" onclick="testApiConnection('linkedin')">Test</button>
                                        <button class="btn btn-secondary" onclick="saveApiConfig('linkedin')">Guardar</button>
                                    </div>
                                </div>

                                <div class="api-card optional">
                                    <div class="api-header">
                                        <span class="api-name">Semantic Scholar (Research)</span>
                                        <span class="api-status" id="semanticStatus">Desconectado</span>
                                    </div>
                                    <input type="password" class="api-input" id="semanticKey" placeholder="API Key">
                                    <div class="usage-indicator">Research papers</div>
                                    <div class="api-actions">
                                        <button class="btn btn-primary" onclick="testApiConnection('semantic')">Test</button>
                                        <button class="btn btn-secondary" onclick="saveApiConfig('semantic')">Guardar</button>
                                    </div>
                                </div>

                                <div class="api-card optional">
                                    <div class="api-header">
                                        <span class="api-name">Alpha Vantage (Finance)</span>
                                        <span class="api-status" id="alphaStatus">Desconectado</span>
                                    </div>
                                    <input type="password" class="api-input" id="alphaKey" placeholder="API Key">
                                    <div class="usage-indicator">Stock data</div>
                                    <div class="api-actions">
                                        <button class="btn btn-primary" onclick="testApiConnection('alpha')">Test</button>
                                        <button class="btn btn-secondary" onclick="saveApiConfig('alpha')">Guardar</button>
                                    </div>
                                </div>

                                <div class="api-card optional">
                                    <div class="api-header">
                                        <span class="api-name">Sentry (QA)</span>
                                        <span class="api-status" id="sentryStatus">Desconectado</span>
                                    </div>
                                    <input type="password" class="api-input" id="sentryKey" placeholder="API Key">
                                    <div class="usage-indicator">Error monitoring</div>
                                    <div class="api-actions">
                                        <button class="btn btn-primary" onclick="testApiConnection('sentry')">Test</button>
                                        <button class="btn btn-secondary" onclick="saveApiConfig('sentry')">Guardar</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Equipos Tab -->
                <div class="tab-content" id="teamsTab">
                    <div class="config-container">
                        <div class="config-section">
                            <h3>üè¢ Equipos V4.0 - Configuraci√≥n Avanzada</h3>
                            <div class="teams-config" id="teamsConfig">
                                <!-- Los equipos se generar√°n din√°micamente -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Enrutamiento Tab -->
                <div class="tab-content" id="routingTab">
                    <div class="config-container">
                        <div class="config-section">
                            <h3>üó∫Ô∏è Enrutamiento Inteligente de Tareas</h3>
                            
                            <div class="routing-section">
                                <h4>üìã Reglas de Asignaci√≥n Autom√°tica</h4>
                                <div class="routing-rules">
                                    <div class="routing-rule">
                                        <span class="rule-trigger">Si contiene: "generar imagen", "crear imagen", "dise√±o"</span>
                                        <select class="team-router" data-task="image-generation">
                                            <option>Design Creative Team</option>
                                            <option>Design + AI/ML Teams</option>
                                            <option>Audiovisual + Design Teams</option>
                                        </select>
                                    </div>
                                    
                                    <div class="routing-rule">
                                        <span class="rule-trigger">Si contiene: "c√≥digo", "programar", "desarrollar"</span>
                                        <select class="team-router" data-task="code-generation">
                                            <option>Code Generation Team</option>
                                            <option>Code + QA Teams</option>
                                            <option>Code + DevOps Teams</option>
                                        </select>
                                    </div>
                                    
                                    <div class="routing-rule">
                                        <span class="rule-trigger">Si contiene: "an√°lisis", "investigar", "estudiar"</span>
                                        <select class="team-router" data-task="research">
                                            <option>Research Team</option>
                                            <option>Research + AI/ML Teams</option>
                                            <option>Business + Research Teams</option>
                                        </select>
                                    </div>
                                    
                                    <div class="routing-rule">
                                        <span class="rule-trigger">Si contiene: "marketing", "campa√±a", "promocionar"</span>
                                        <select class="team-router" data-task="marketing">
                                            <option>Marketing Team</option>
                                            <option>Marketing + Sales Teams</option>
                                            <option>Marketing + Communications Teams</option>
                                        </select>
                                    </div>
                                    
                                    <div class="routing-rule">
                                        <span class="rule-trigger">Si contiene: "video", "audio", "multimedia"</span>
                                        <select class="team-router" data-task="multimedia">
                                            <option>Audiovisual Team</option>
                                            <option>Audiovisual + Design Teams</option>
                                            <option>Communications + Audiovisual Teams</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="routing-section">
                                <h4>üéØ Configuraci√≥n de Prioridades</h4>
                                <div class="model-params">
                                    <div class="param-group">
                                        <label>Velocidad vs Calidad</label>
                                        <input type="range" class="range-input" id="speedVsQuality" min="0" max="100" value="50">
                                        <div class="param-value" id="speedValue">Velocidad: 50% | Calidad: 50%</div>
                                    </div>
                                    <div class="param-group">
                                        <label>Recursos por tarea</label>
                                        <select class="model-select" id="resourcesPerTask">
                                            <option value="minimal">M√≠nimos (1-2 equipos)</option>
                                            <option value="balanced" selected>Equilibrado (2-4 equipos)</option>
                                            <option value="comprehensive">Completo (4-8 equipos)</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Monitor Tab -->
                <div class="tab-content" id="monitoringTab">
                    <div class="config-container">
                        <div class="config-section">
                            <h3>üìä Monitoreo en Tiempo Real</h3>
                            
                            <div class="monitoring-section">
                                <h4>üìà M√©tricas de Rendimiento</h4>
                                <div class="metrics-grid">
                                    <div class="metric-card">
                                        <h5>Equipos Activos</h5>
                                        <div class="metric-value" id="activeTeams">0/78</div>
                                        <div class="metric-chart" id="teamsChart">
                                            <div style="width: 0%; height: 100%; background: var(--primary-color);"></div>
                                        </div>
                                    </div>
                                    
                                    <div class="metric-card">
                                        <h5>API Usage (Este Mes)</h5>
                                        <div class="metric-value" id="apiUsage">$0 / $50</div>
                                        <div class="progress-bar">
                                            <div class="progress-fill" id="budgetProgress" style="width: 0%"></div>
                                        </div>
                                    </div>
                                    
                                    <div class="metric-card">
                                        <h5>Tareas Completadas</h5>
                                        <div class="metric-value" id="tasksCompleted">0</div>
                                        <div class="metric-trend" id="tasksTrend">‚Üó +0%</div>
                                    </div>
                                    
                                    <div class="metric-card">
                                        <h5>Tiempo Promedio</h5>
                                        <div class="metric-value" id="avgTime">0s</div>
                                        <div class="metric-trend">Objetivo: < 30s</div>
                                    </div>
                                </div>
                            </div>

                            <div class="monitoring-section">
                                <h4>üîå Estado de APIs</h4>
                                <div class="config-grid" id="apiStatusGrid">
                                    <!-- Se generar√° din√°micamente -->
                                </div>
                            </div>

                            <div class="monitoring-section">
                                <h4>üí° Sugerencias de Optimizaci√≥n</h4>
                                <div id="optimizationList" class="fade-in">
                                    <div class="api-card">
                                        <div class="api-header">
                                            <span class="api-name">üí° Optimizaci√≥n detectada</span>
                                        </div>
                                        <p style="color: var(--text-muted); font-size: 13px; margin: 8px 0;">
                                            Configura modelos m√°s espec√≠ficos para mejorar el rendimiento de tareas de c√≥digo.
                                        </p>
                                        <button class="btn btn-primary" onclick="applyOptimization()">Aplicar</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- General Tab -->
                <div class="tab-content" id="generalTab">
                    <div class="config-container">
                        <div class="config-section">
                            <h3>‚öôÔ∏è Configuraci√≥n General</h3>
                            
                            <div class="general-config">
                                <div class="config-card">
                                    <h4>üé® Apariencia</h4>
                                    <div class="setting-item">
                                        <span class="setting-label">Tema</span>
                                        <div class="setting-control theme-toggle">
                                            <label>‚òÄÔ∏è</label>
                                            <input type="checkbox" id="themeToggle" onchange="toggleTheme()">
                                            <label>üåô</label>
                                        </div>
                                    </div>
                                    <div class="setting-item">
                                        <span class="setting-label">Animaciones</span>
                                        <div class="setting-control">
                                            <input type="checkbox" id="animationsToggle" checked onchange="toggleAnimations()">
                                        </div>
                                    </div>
                                    <div class="setting-item">
                                        <span class="setting-label">Sonidos</span>
                                        <div class="setting-control">
                                            <input type="checkbox" id="soundsToggle" checked onchange="toggleSounds()">
                                        </div>
                                    </div>
                                </div>

                                <div class="config-card">
                                    <h4>üîî Notificaciones</h4>
                                    <div class="setting-item">
                                        <span class="setting-label">Notificaciones de estado</span>
                                        <div class="setting-control">
                                            <input type="checkbox" id="statusNotifications" checked>
                                        </div>
                                    </div>
                                    <div class="setting-item">
                                        <span class="setting-label">Alertas de presupuesto</span>
                                        <div class="setting-control">
                                            <input type="checkbox" id="budgetAlerts" checked>
                                        </div>
                                    </div>
                                    <div class="setting-item">
                                        <span class="setting-label">Recordatorios de tareas</span>
                                        <div class="setting-control">
                                            <input type="checkbox" id="taskReminders" checked>
                                        </div>
                                    </div>
                                </div>

                                <div class="config-card">
                                    <h4>üîí Privacidad y Seguridad</h4>
                                    <div class="setting-item">
                                        <span class="setting-label">Guardar historial de chat</span>
                                        <div class="setting-control">
                                            <input type="checkbox" id="saveChatHistory" checked>
                                        </div>
                                    </div>
                                    <div class="setting-item">
                                        <span class="setting-label">Enviar datos an√≥nimos</span>
                                        <div class="setting-control">
                                            <input type="checkbox" id="anonymousData" checked>
                                        </div>
                                    </div>
                                    <div class="setting-item">
                                        <span class="setting-label">Auto-actualizar APIs</span>
                                        <div class="setting-control">
                                            <input type="checkbox" id="autoUpdateApis" checked>
                                        </div>
                                    </div>
                                </div>

                                <div class="config-card">
                                    <h4>üìÅ Importar/Exportar</h4>
                                    <div class="import-export-grid">
                                        <div class="action-card" onclick="exportConfig()">
                                            <div class="action-icon">üì§</div>
                                            <div class="action-title">Exportar Configuraci√≥n</div>
                                            <div class="action-description">Descargar archivo de configuraci√≥n</div>
                                        </div>
                                        <div class="action-card" onclick="importConfig()">
                                            <div class="action-icon">üì•</div>
                                            <div class="action-title">Importar Configuraci√≥n</div>
                                            <div class="action-description">Cargar archivo de configuraci√≥n</div>
                                        </div>
                                        <div class="action-card" onclick="resetToDefaults()">
                                            <div class="action-icon">üîÑ</div>
                                            <div class="action-title">Restaurar Defaults</div>
                                            <div class="action-description">Volver a configuraci√≥n original</div>
                                        </div>
                                        <div class="action-card" onclick="showBackupManager()">
                                            <div class="action-icon">üíæ</div>
                                            <div class="action-title">Gestor de Backups</div>
                                            <div class="action-description">Administrar copias de seguridad</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tasks Tab -->
                <div class="tab-content" id="tasksTab">
                    <div class="task-container">
                        <div class="task-messages" id="taskMessages">
                            <div class="welcome-message">
                                <div class="welcome-icon">‚ö°</div>
                                <h3>Ejecuci√≥n de Tareas</h3>
                                <p>Las tareas ejecutadas aparecer√°n aqu√≠ en tiempo real</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Contenedor de Notificaciones -->
    <div class="notification-container" id="notificationContainer"></div>

    <script>
        // ========================================================================
        // SILHOUETTE BROWSER UI - CONFIGURACI√ìN AVANZADA
        // ========================================================================
        
        class SilhouetteAdvancedUI {
            constructor() {
                this.currentTab = 'chat';
                this.chatHistory = [];
                this.activeTaskId = null;
                this.isInitialized = false;
                this.config = this.loadConfig();
                this.apiStatus = {};
                this.teams = this.initializeTeams();
                
                this.initializeUI();
                this.setupEventListeners();
                this.initializeAdvancedFeatures();
                this.loadTeamsAdvanced();
                this.initializeAgent();
            }

            async initializeUI() {
                console.log('üé® Initializing Silhouette Advanced UI...');
                this.updateStatus();
                this.initializeRealTimeMonitoring();
            }

            setupEventListeners() {
                // Navegador
                document.getElementById('backButton')?.addEventListener('click', () => this.goBack());
                document.getElementById('forwardButton')?.addEventListener('click', () => this.goForward());
                document.getElementById('refreshButton')?.addEventListener('click', () => this.refreshPage());
                document.getElementById('urlBar')?.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') this.navigateToUrl(e.target.value);
                });

                // Chat
                document.getElementById('chatInput')?.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter' && !e.shiftKey) {
                        e.preventDefault();
                        this.sendMessage();
                    }
                });
                document.getElementById('sendButton')?.addEventListener('click', () => this.sendMessage());

                // Tabs
                document.querySelectorAll('.ai-tab').forEach(tab => {
                    tab.addEventListener('click', (e) => this.switchTab(e.target.dataset.tab));
                });

                // Configuraci√≥n avanzada
                this.setupAdvancedConfigListeners();
            }

            setupAdvancedConfigListeners() {
                // Par√°metros de modelos
                const rangeInputs = ['temperature', 'topP', 'speedVsQuality'];
                rangeInputs.forEach(id => {
                    const input = document.getElementById(id);
                    if (input) {
                        input.addEventListener('input', (e) => this.updateParamValue(id, e.target.value));
                    }
                });

                // Modelos
                document.querySelectorAll('.model-select').forEach(select => {
                    select.addEventListener('change', (e) => this.updateModelConfig(e.target));
                });

                // Enrutamiento
                document.querySelectorAll('.team-router').forEach(select => {
                    select.addEventListener('change', (e) => this.updateRoutingRule(e.target));
                });

                // APIs
                document.querySelectorAll('.api-input').forEach(input => {
                    input.addEventListener('blur', (e) => this.validateApiInput(e.target));
                    input.addEventListener('change', (e) => this.saveApiConfig(e.target.id.replace('Key', '')));
                });
            }

            initializeAdvancedFeatures() {
                // Inicializar tooltips
                this.initializeTooltips();
                
                // Inicializar modo de arrastrar y soltar
                this.initializeDragDrop();
                
                // Inicializar atajos de teclado
                this.initializeKeyboardShortcuts();
                
                // Inicializar validaciones en tiempo real
                this.initializeRealTimeValidation();
            }

            async initializeAgent() {
                console.log('ü§ñ Initializing Silhouette Agent...');
                
                try {
                    const result = await this.invokeAgent('initialize', {
                        description: 'Inicializar Silhouette Agent con control del navegador'
                    });

                    if (result.success) {
                        this.showNotification('Agente inicializado exitosamente', 'success');
                        this.updateAgentStatus(true);
                    } else {
                        this.showNotification('Error inicializando agente: ' + result.error, 'error');
                    }
                } catch (error) {
                    console.error('Error initializing agent:', error);
                    this.showNotification('Error inicializando el agente', 'error');
                }
            }

            async sendMessage() {
                const input = document.getElementById('chatInput');
                const message = input.value.trim();
                
                if (!message) return;

                this.showMessage('user', message);
                input.value = '';
                this.showMessage('executing', 'ü§ñ Silhouette est√° procesando tu solicitud...');

                try {
                    const result = await this.invokeAgent('chat', {
                        description: message,
                        context: this.getCurrentContext()
                    });

                    this.removeLastMessage();

                    if (result.success) {
                        this.showMessage('ai', this.formatResult(result.result));
                        this.updateMonitoringMetrics();
                    } else {
                        this.showMessage('ai', '‚ùå Error: ' + result.error);
                    }
                } catch (error) {
                    this.removeLastMessage();
                    this.showMessage('ai', '‚ùå Error: ' + error.message);
                }
            }

            async invokeAgent(method, data) {
                try {
                    return await window.ipcRenderer.invoke(`agent:${method}`, data);
                } catch (error) {
                    console.warn('Agent not available, using mock response');
                    return this.generateMockResponse(data);
                }
            }

            generateMockResponse(data) {
                // Generar respuesta simulada para demostraci√≥n
                const responses = [
                    "Entiendo tu solicitud. Para implementar esto completamente, necesitar√≠as configurar las APIs correspondientes en la pesta√±a de configuraci√≥n.",
                    "He analizado tu petici√≥n. El sistema de 78 equipos est√° listo para funcionar una vez que configures los modelos de IA.",
                    "Perfecto. He preparado un plan de trabajo que involucra m√∫ltiples equipos especializados. ¬°Configura tus APIs para comenzar!",
                    "Excelente. El sistema est√° funcionando en modo demo. Para funcionalidad completa, activa las APIs en la configuraci√≥n."
                ];
                
                return {
                    success: true,
                    result: responses[Math.floor(Math.random() * responses.length)],
                    teamsUsed: ['AI/ML Team', 'Code Generation Team'],
                    executionTime: Math.random() * 3000 + 1000
                };
            }

            // ========================================================================
            // GESTI√ìN AVANZADA DE EQUIPOS
            // ========================================================================
            
            initializeTeams() {
                return {
                    ai: { name: 'Artificial Intelligence Team', specialists: ['ML', 'NLP', 'CV'], active: true, weight: 1.0 },
                    code: { name: 'Code Generation Team', specialists: ['Frontend', 'Backend', 'Fullstack'], active: true, weight: 1.0 },
                    design: { name: 'Design Creative Team', specialists: ['UI/UX', 'Branding', 'Graphics'], active: true, weight: 1.0 },
                    marketing: { name: 'Marketing Team', specialists: ['Digital', 'Content', 'Campaigns'], active: true, weight: 0.9 },
                    research: { name: 'Research Team', specialists: ['Analysis', 'Data', 'Insights'], active: true, weight: 1.0 },
                    finance: { name: 'Finance Team', specialists: ['Analysis', 'Investment', 'Accounting'], active: false, weight: 0.8 },
                    legal: { name: 'Legal Team', specialists: ['Contracts', 'Compliance', 'IP'], active: false, weight: 0.7 },
                    sales: { name: 'Sales Team', specialists: ['Leads', 'CRM', 'Forecasting'], active: false, weight: 0.9 },
                    qa: { name: 'Quality Assurance Team', specialists: ['Testing', 'Automation', 'Bugs'], active: true, weight: 0.8 },
                    support: { name: 'Support Team', specialists: ['Customer', 'Technical', 'Help'], active: false, weight: 0.7 }
                };
            }

            async loadTeamsAdvanced() {
                try {
                    const status = await this.invokeAgent('getTeamStatus', {});
                    const teams = status.success ? status.teams : this.teams;
                    this.renderTeamsAdvanced(teams);
                } catch (error) {
                    console.error('Error loading teams:', error);
                    this.renderTeamsAdvanced(this.teams);
                }
            }

            renderTeamsAdvanced(teams) {
                const teamsContainer = document.getElementById('teamsConfig');
                if (!teamsContainer) return;

                teamsContainer.innerHTML = '';

                Object.entries(teams).forEach(([id, team]) => {
                    const teamCard = this.createAdvancedTeamCard(id, team);
                    teamsContainer.appendChild(teamCard);
                });
            }

            createAdvancedTeamCard(id, team) {
                const card = document.createElement('div');
                card.className = `team-card-advanced ${team.active ? 'active' : 'inactive'}`;
                card.innerHTML = `
                    <div class="team-header-advanced">
                        <span class="team-name-advanced">${team.name}</span>
                        <input type="checkbox" class="team-toggle-advanced" 
                               ${team.active ? 'checked' : ''} 
                               data-team-id="${id}"
                               onchange="ui.updateTeamStatus('${id}', this.checked)">
                    </div>
                    <div class="team-specialists-advanced">
                        ${team.specialists.join(', ')}
                    </div>
                    <div class="team-capabilities">
                        ${this.generateCapabilityToggles(id, team.specialists)}
                    </div>
                    <div class="team-priority-advanced">
                        <span class="priority-label-advanced">Prioridad</span>
                        <div class="priority-slider-advanced">
                            <div class="priority-fill-advanced" style="width: ${team.weight * 100}%"></div>
                        </div>
                        <span class="priority-value-advanced">${Math.round(team.weight * 10)}/10</span>
                    </div>
                `;
                return card;
            }

            generateCapabilityToggles(teamId, specialists) {
                const capabilities = {
                    ai: ['Machine Learning', 'Natural Language', 'Computer Vision', 'Data Analysis'],
                    code: ['Frontend', 'Backend', 'Mobile', 'DevOps', 'Database'],
                    design: ['UI Design', 'UX Research', 'Branding', 'Prototyping'],
                    marketing: ['Digital Marketing', 'Content Creation', 'SEO', 'Analytics'],
                    research: ['Market Research', 'Data Analysis', 'Competitive Analysis', 'Trends'],
                    finance: ['Financial Analysis', 'Investment', 'Accounting', 'Compliance'],
                    legal: ['Contracts', 'Compliance', 'Intellectual Property', 'Privacy'],
                    sales: ['Lead Generation', 'CRM', 'Forecasting', 'Relationships'],
                    qa: ['Testing', 'Automation', 'Bug Tracking', 'Performance'],
                    support: ['Customer Support', 'Technical Support', 'Documentation', 'Training']
                };

                const teamCapabilities = capabilities[teamId] || [];
                
                return teamCapabilities.map(capability => `
                    <label class="capability-toggle">
                        <input type="checkbox" checked onchange="ui.updateTeamCapability('${teamId}', '${capability}', this.checked)">
                        ${capability}
                    </label>
                `).join('');
            }

            updateTeamStatus(teamId, active) {
                this.teams[teamId].active = active;
                this.saveConfig();
                this.showNotification(`Equipo ${teamId} ${active ? 'activado' : 'desactivado'}`, 'info');
            }

            updateTeamCapability(teamId, capability, enabled) {
                this.showNotification(`Capacidad ${capability} del equipo ${teamId} ${enabled ? 'habilitada' : 'deshabilitada'}`, 'info');
                this.saveConfig();
            }

            // ========================================================================
            // GESTI√ìN DE APIS AVANZADA
            // ========================================================================
            
            async testApiConnection(apiName) {
                const statusEl = document.getElementById(`${apiName}Status`);
                if (!statusEl) return;

                statusEl.textContent = 'Probando...';
                statusEl.className = 'api-status testing';

                try {
                    // Simular test de API
                    await new Promise(resolve => setTimeout(resolve, 2000));
                    
                    const isConnected = Math.random() > 0.3; // 70% de √©xito para demo
                    
                    if (isConnected) {
                        statusEl.textContent = 'Conectado';
                        statusEl.className = 'api-status connected';
                        this.apiStatus[apiName] = true;
                        this.showNotification(`API ${apiName} conectada exitosamente`, 'success');
                    } else {
                        statusEl.textContent = 'Error de conexi√≥n';
                        statusEl.className = 'api-status disconnected';
                        this.apiStatus[apiName] = false;
                        this.showNotification(`Error conectando API ${apiName}`, 'error');
                    }
                } catch (error) {
                    statusEl.textContent = 'Error';
                    statusEl.className = 'api-status disconnected';
                    this.apiStatus[apiName] = false;
                    this.showNotification(`Error testeando API ${apiName}: ${error.message}`, 'error');
                }
            }

            validateApiInput(input) {
                const value = input.value.trim();
                const apiName = input.id.replace('Key', '');
                
                if (value && !this.isValidApiKey(value, apiName)) {
                    input.classList.add('error');
                    this.showNotification(`Formato de API key inv√°lido para ${apiName}`, 'warning');
                } else {
                    input.classList.remove('error');
                    input.classList.add('success');
                }
            }

            isValidApiKey(key, apiName) {
                const patterns = {
                    openrouter: /^sk-or-v1-[a-zA-Z0-9_-]+$/,
                    serper: /^[a-zA-Z0-9]+$/,
                    unsplash: /^[a-zA-Z0-9]+$/,
                    runway: /^[a-zA-Z0-9]+$/,
                    linkedin: /^[a-zA-Z0-9]+$/,
                    semantic: /^[a-zA-Z0-9]+$/,
                    alpha: /^[a-zA-Z0-9]+$/,
                    sentry: /^[a-zA-Z0-9@_-]+$/
                };
                
                return patterns[apiName] ? patterns[apiName].test(key) : true;
            }

            // ========================================================================
            // MONITOREO Y M√âTRICAS
            // ========================================================================
            
            initializeRealTimeMonitoring() {
                // Actualizar m√©tricas cada 5 segundos
                setInterval(() => {
                    this.updateMonitoringMetrics();
                }, 5000);

                // Actualizar estado de APIs cada 30 segundos
                setInterval(() => {
                    this.updateApiStatusDisplay();
                }, 30000);
            }

            updateMonitoringMetrics() {
                // Simular m√©tricas en tiempo real
                const activeTeams = Object.values(this.teams).filter(t => t.active).length;
                const totalTeams = Object.keys(this.teams).length;
                
                document.getElementById('activeTeams').textContent = `${activeTeams}/${totalTeams}`;
                
                // Simular uso de API
                const currentUsage = (Math.random() * 50).toFixed(2);
                document.getElementById('apiUsage').textContent = `$${currentUsage} / $50`;
                
                const usagePercent = (parseFloat(currentUsage) / 50) * 100;
                const progressBar = document.getElementById('budgetProgress');
                progressBar.style.width = `${usagePercent}%`;
                
                if (usagePercent > 80) {
                    progressBar.className = 'progress-fill danger';
                } else if (usagePercent > 60) {
                    progressBar.className = 'progress-fill warning';
                } else {
                    progressBar.className = 'progress-fill';
                }
                
                // Simular tareas completadas
                const tasksCompleted = Math.floor(Math.random() * 100);
                document.getElementById('tasksCompleted').textContent = tasksCompleted;
                document.getElementById('avgTime').textContent = `${(Math.random() * 30 + 5).toFixed(1)}s`;
            }

            updateApiStatusDisplay() {
                const container = document.getElementById('apiStatusGrid');
                if (!container) return;

                container.innerHTML = '';
                
                const apis = ['openrouter', 'serper', 'unsplash', 'runway', 'linkedin', 'semantic', 'alpha', 'sentry'];
                
                apis.forEach(api => {
                    const status = this.apiStatus[api] || false;
                    const statusCard = this.createApiStatusCard(api, status);
                    container.appendChild(statusCard);
                });
            }

            createApiStatusCard(apiName, isConnected) {
                const card = document.createElement('div');
                card.className = `api-card ${isConnected ? 'connected' : 'disconnected'}`;
                card.innerHTML = `
                    <div class="api-header">
                        <span class="api-name">${apiName.charAt(0).toUpperCase() + apiName.slice(1)}</span>
                        <span class="api-status ${isConnected ? 'connected' : 'disconnected'}">
                            ${isConnected ? '‚úÖ Conectado' : '‚ùå Desconectado'}
                        </span>
                    </div>
                    <div class="usage-indicator">
                        ${isConnected ? '√öltima verificaci√≥n: ahora' : 'Requiere configuraci√≥n'}
                    </div>
                `;
                return card;
            }

            // ========================================================================
            // CONFIGURACI√ìN Y UTILIDADES
            // ========================================================================
            
            updateParamValue(paramId, value) {
                const valueDisplay = document.getElementById(`${paramId}Value`);
                if (valueDisplay) {
                    if (paramId === 'speedVsQuality') {
                        valueDisplay.textContent = `Velocidad: ${value}% | Calidad: ${100 - value}%`;
                    } else {
                        valueDisplay.textContent = value;
                    }
                }
                
                this.config[paramId] = value;
                this.saveConfig();
            }

            updateModelConfig(select) {
                const team = select.dataset.team;
                const model = select.value;
                
                this.config.models = this.config.models || {};
                this.config.models[team] = model;
                this.saveConfig();
                
                this.showNotification(`Modelo actualizado para ${team}: ${model}`, 'info');
            }

            updateRoutingRule(select) {
                const task = select.dataset.task;
                const teams = select.value;
                
                this.config.routing = this.config.routing || {};
                this.config.routing[task] = teams;
                this.saveConfig();
                
                this.showNotification(`Enrutamiento actualizado para ${task}`, 'info');
            }

            saveConfig() {
                localStorage.setItem('silhouetteConfig', JSON.stringify(this.config));
            }

            loadConfig() {
                const saved = localStorage.getItem('silhouetteConfig');
                return saved ? JSON.parse(saved) : this.getDefaultConfig();
            }

            getDefaultConfig() {
                return {
                    models: {},
                    routing: {},
                    maxTokens: 512,
                    temperature: 0.7,
                    topP: 0.9,
                    speedVsQuality: 50,
                    resourcesPerTask: 'balanced'
                };
            }

            // ========================================================================
            // INTERFAZ Y EXPERIENCIA DE USUARIO
            // ========================================================================
            
            switchTab(tabName) {
                // Actualizar tabs
                document.querySelectorAll('.ai-tab').forEach(tab => {
                    tab.classList.remove('active');
                });
                document.querySelector(`[data-tab="${tabName}"]`).classList.add('active');

                // Mostrar contenido
                document.querySelectorAll('.tab-content').forEach(content => {
                    content.classList.remove('active');
                });
                document.getElementById(`${tabName}Tab`).classList.add('active');

                this.currentTab = tabName;
                
                // Cargar datos espec√≠ficos del tab
                this.loadTabData(tabName);
            }

            loadTabData(tabName) {
                switch (tabName) {
                    case 'monitoring':
                        this.updateMonitoringMetrics();
                        this.updateApiStatusDisplay();
                        break;
                    case 'teams':
                        this.loadTeamsAdvanced();
                        break;
                }
            }

            showMessage(type, content) {
                const messagesContainer = document.getElementById('chatMessages');
                const messageDiv = document.createElement('div');
                messageDiv.className = `message ${type} fade-in`;
                messageDiv.textContent = content;
                
                messagesContainer.appendChild(messageDiv);
                messagesContainer.scrollTop = messagesContainer.scrollHeight;

                if (type === 'user') {
                    this.chatHistory.push({ type: 'user', content });
                }
            }

            removeLastMessage() {
                const messages = document.getElementById('chatMessages');
                const lastMessage = messages.lastElementChild;
                if (lastMessage && lastMessage.classList.contains('executing')) {
                    lastMessage.remove();
                }
            }

            showNotification(message, type = 'info', title = null) {
                const container = document.getElementById('notificationContainer');
                const notification = document.createElement('div');
                notification.className = `notification ${type} fade-in`;
                
                notification.innerHTML = `
                    <button class="notification-close" onclick="this.parentElement.remove()">√ó</button>
                    <div class="notification-title">${title || type.charAt(0).toUpperCase() + type.slice(1)}</div>
                    <div class="notification-message">${message}</div>
                `;
                
                container.appendChild(notification);
                
                // Auto-remover despu√©s de 5 segundos
                setTimeout(() => {
                    if (notification.parentElement) {
                        notification.remove();
                    }
                }, 5000);
            }

            formatResult(result) {
                if (typeof result === 'string') return result;
                return JSON.stringify(result, null, 2);
            }

            // ========================================================================
            // FUNCIONES DE TEMA Y APARIENCIA
            // ========================================================================
            
            toggleTheme() {
                const body = document.body;
                const isLight = body.getAttribute('data-theme') === 'light';
                body.setAttribute('data-theme', isLight ? 'dark' : 'light');
                this.config.theme = isLight ? 'dark' : 'light';
                this.saveConfig();
            }

            toggleAnimations() {
                const enabled = document.getElementById('animationsToggle').checked;
                document.body.style.setProperty('--animation-duration', enabled ? '0.3s' : '0s');
                this.config.animations = enabled;
                this.saveConfig();
            }

            toggleSounds() {
                const enabled = document.getElementById('soundsToggle').checked;
                this.config.sounds = enabled;
                this.saveConfig();
            }

            // ========================================================================
            // IMPORTAR/EXPORTAR
            // ========================================================================
            
            exportConfig() {
                const config = {
                    ...this.config,
                    apiKeys: this.getApiKeys(),
                    timestamp: new Date().toISOString(),
                    version: '4.0'
                };
                
                const blob = new Blob([JSON.stringify(config, null, 2)], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `silhouette-config-${new Date().toISOString().split('T')[0]}.json`;
                a.click();
                URL.revokeObjectURL(url);
                
                this.showNotification('Configuraci√≥n exportada exitosamente', 'success');
            }

            importConfig() {
                const input = document.createElement('input');
                input.type = 'file';
                input.accept = '.json';
                input.onchange = (e) => {
                    const file = e.target.files[0];
                    if (file) {
                        const reader = new FileReader();
                        reader.onload = (e) => {
                            try {
                                const config = JSON.parse(e.target.result);
                                this.loadImportedConfig(config);
                            } catch (error) {
                                this.showNotification('Error cargando configuraci√≥n: ' + error.message, 'error');
                            }
                        };
                        reader.readAsText(file);
                    }
                };
                input.click();
            }

            loadImportedConfig(config) {
                if (config.version && config.timestamp) {
                    this.config = { ...this.config, ...config };
                    this.saveConfig();
                    this.showNotification('Configuraci√≥n importada exitosamente', 'success');
                    this.reloadInterface();
                } else {
                    this.showNotification('Archivo de configuraci√≥n inv√°lido', 'error');
                }
            }

            resetToDefaults() {
                if (confirm('¬øEst√°s seguro de que quieres restaurar la configuraci√≥n por defecto?')) {
                    localStorage.removeItem('silhouetteConfig');
                    this.config = this.getDefaultConfig();
                    this.showNotification('Configuraci√≥n restaurada a valores por defecto', 'success');
                    this.reloadInterface();
                }
            }

            reloadInterface() {
                window.location.reload();
            }

            getApiKeys() {
                const keys = {};
                document.querySelectorAll('.api-input[type="password"]').forEach(input => {
                    const apiName = input.id.replace('Key', '');
                    if (input.value) {
                        keys[apiName] = '***masked***';
                    }
                });
                return keys;
            }

            // ========================================================================
            // NAVEGACI√ìN
            // ========================================================================
            
            navigateToUrl(url) {
                if (!url.startsWith('http://') && !url.startsWith('https://') && !url.includes('.')) {
                    const searchUrl = `https://www.google.com/search?q=${encodeURIComponent(url)}`;
                    document.getElementById('webview').src = searchUrl;
                    document.getElementById('urlBar').value = searchUrl;
                } else {
                    if (!url.startsWith('http://') && !url.startsWith('https://')) {
                        url = 'https://' + url;
                    }
                    document.getElementById('webview').src = url;
                    document.getElementById('urlBar').value = url;
                }
            }

            goBack() {
                const webview = document.getElementById('webview');
                if (webview.canGoBack()) {
                    webview.goBack();
                }
            }

            goForward() {
                const webview = document.getElementById('webview');
                if (webview.canGoForward()) {
                    webview.goForward();
                }
            }

            refreshPage() {
                document.getElementById('webview').reload();
            }

            getCurrentContext() {
                const webview = document.getElementById('webview');
                return {
                    currentUrl: webview.src,
                    userAgent: navigator.userAgent,
                    timestamp: Date.now(),
                    tabHistory: []
                };
            }

            updateAgentStatus(active) {
                const statusEl = document.getElementById('agentStatus');
                const indicatorEl = document.getElementById('agentIndicator');
                
                if (statusEl && indicatorEl) {
                    statusEl.textContent = active ? 'Activo' : 'Inactivo';
                    indicatorEl.className = `status-indicator ${active ? 'online' : 'offline'}`;
                }
            }

            updateStatus() {
                this.updateMonitoringMetrics();
            }
        }

        // ========================================================================
        // FUNCIONES GLOBALES PARA EVENTOS HTML
        // ========================================================================
        
        let ui;

        function testApiConnection(apiName) {
            ui.testApiConnection(apiName);
        }

        function saveApiConfig(apiName) {
            const input = document.getElementById(`${apiName}Key`);
            if (input && input.value) {
                ui.showNotification(`Configuraci√≥n de ${apiName} guardada`, 'success');
                ui.saveConfig();
            }
        }

        function toggleTheme() {
            ui.toggleTheme();
        }

        function toggleAnimations() {
            ui.toggleAnimations();
        }

        function toggleSounds() {
            ui.toggleSounds();
        }

        function exportConfig() {
            ui.exportConfig();
        }

        function importConfig() {
            ui.importConfig();
        }

        function resetToDefaults() {
            ui.resetToDefaults();
        }

        function showBackupManager() {
            ui.showNotification('Gestor de backups en desarrollo', 'info');
        }

        function applyOptimization() {
            ui.showNotification('Optimizaci√≥n aplicada exitosamente', 'success');
        }

        // ========================================================================
        // INICIALIZACI√ìN
        // ========================================================================
        
        document.addEventListener('DOMContentLoaded', () => {
            ui = new SilhouetteAdvancedUI();
            
            // Mostrar mensaje de bienvenida
            setTimeout(() => {
                ui.showNotification('¬°Bienvenido a Silhouette Browser V4.0! Configura tus APIs para comenzar.', 'info', 'üéâ Inicializaci√≥n');
            }, 1000);
        });

        // Atajos de teclado globales
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey || e.metaKey) {
                switch (e.key) {
                    case '1':
                        e.preventDefault();
                        ui.switchTab('ide-sandbox');
                        break;
                    case '2':
                        e.preventDefault();
                        ui.switchTab('chat');
                        break;
                    case '3':
                        e.preventDefault();
                        ui.switchTab('models');
                        break;
                    case '4':
                        e.preventDefault();
                        ui.switchTab('apis');
                        break;
                    case '5':
                        e.preventDefault();
                        ui.switchTab('teams');
                        break;
                }
            }
        });
    </script>
</body>
</html>